:javascript
  $('table.insurance').dataTable({
      "bPaginate": false,
      "bJQueryUI": true
    });
%h1 List of Insurance Products
.menu-strip{:style => "width: 25%;"}
  = link_to 'Add Insurance', "#", :onclick =>"jQuery('#meeting_div').toggle(); return false;", :class => 'add grey_button'
  &nbsp;&nbsp;
  = link_to_with_rights "Back", url(:admin), :class => "grey_button"
#meeting_div(style = "display : none")
  = form_for(@insurance_product, :action => url(:controller => :simple_insurance_products, :action => :create), :method => "POST", :class => "tall shaded") do
    = partial 'simple_insurance_products/fields'
    = submit 'Save', :class => "greenButton"
%br
- if @insurance_products.count == 0
  %p
    %i No Insurance has been created yet.
- else
  %table.report.weeksheet.nojs.insurance
    %thead
      %tr
        %td
          Id
        %td
          Name
        %td
          Insured Type
        %td
          Insurance For
        %td
          Fee Product
        %td
          Cover Amount
        %td
          Created On
    - @insurance_products.each do |insurance_product|
      %tr
        %td
          = insurance_product.id
        %td
          = insurance_product.name
        %td
          = (insurance_product.insured_type and (not insurance_product.insured_type.nil?)) ? insurance_product.insured_type.humanize : "Insurance type not specified"
        %td
          = (insurance_product and insurance_product.insurance_for) ? insurance_product.insurance_for.humanize : "Not Specified"
        %td
          - fee_product = SimpleFeeProduct.all(:simple_insurance_product_id => insurance_product.id)
          = (fee_product and (not fee_product.blank?)) ? fee_product.first.name : "Fee product not specified"
        %td
          = (insurance_product.cover_amount and (not insurance_product.cover_amount.nil?)) ? insurance_product.to_money[:cover_amount].to_s : MoneyManager.default_zero_money
        %td
          = insurance_product.created_on
    %tfoot
      %tr
        %td{ :colspan => 4 }
